"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[608],{82:function(e,t,a){a.d(t,{Z:function(){return o}});var r={Pagination:"PaginationControls_Pagination__88bya",counter:"PaginationControls_counter__ksDJN"},n=a(184);function o(e){var t=e.current,a=e.total,o=e.onClick,i=1===t,s=t===a;return(0,n.jsxs)("div",{className:r.Pagination,children:[(0,n.jsx)("button",{type:"button",onClick:function(){return o(1)},disabled:i,children:"<< First Page"}),(0,n.jsx)("button",{type:"button",onClick:function(){return o(t-1)},disabled:i,children:"< Prev page"}),(0,n.jsxs)("div",{className:r.counter,children:["Page ",t," of ",a]}),(0,n.jsx)("button",{type:"button",onClick:function(){return o(t+1)},disabled:s,children:"Next page >"}),(0,n.jsx)("button",{type:"button",onClick:function(){return o(a)},disabled:s,children:"Last Page >>"})]})}},839:function(e,t,a){a.d(t,{Z:function(){return u}});var r=a(343),n=a(164),o={Overlay:"SplashScreen_Overlay__griNT"},i=a(184),s=document.querySelector("#modal-root");function u(){return(0,n.createPortal)((0,i.jsx)("div",{className:o.Overlay,children:(0,i.jsx)(r.Z1,{height:"160",width:"160",color:"#ffffff",wrapperStyle:{},wrapperClass:"",visible:!0,ariaLabel:"three-circles-rotating",outerCircleColor:"",innerCircleColor:"",middleCircleColor:""})}),s)}},559:function(e,t,a){a.d(t,{Z:function(){return u}});var r=a(165),n=a(683),o=a(861),i=a(243),s={baseURL:"https://api.themoviedb.org/3/",params:{api_key:"b0574b4adcec6022cde1a05e31ff0812"}};function u(){return l.apply(this,arguments)}function l(){return l=(0,o.Z)((0,r.Z)().mark((function e(){var t,a,o,u,l=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:"",a=l.length>1&&void 0!==l[1]?l[1]:{},s.params=(0,n.Z)((0,n.Z)({},s.params),a),e.prev=3,e.next=6,i.Z.get(t,s);case 6:return o=e.sent,u=o.data,e.abrupt("return",u);case 11:throw e.prev=11,e.t0=e.catch(3),e.t0;case 14:case"end":return e.stop()}}),e,null,[[3,11]])}))),l.apply(this,arguments)}},608:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var r=a(683),n=a(439),o=a(791),i=a(87),s=a(689),u=a(264),l=a(559),c=a(82),d=a(839),p={Movies:"Movies_Movies__cFej6",MoviesForm:"Movies_MoviesForm__jenk-"},f=a(184),g={data:[],total_pages:1,isLoading:!1},h=1e3,v=22;function m(){var e=(0,o.useRef)(!1),t=(0,i.lr)(),a=(0,n.Z)(t,2),m=a[0],y=a[1],_=(0,o.useReducer)((function(e,t){switch(t.type){case"data/total":return(0,r.Z)((0,r.Z)({},e),{},{total_pages:t.payload});case"data/set":return(0,r.Z)((0,r.Z)({},e),{},{total_pages:t.payload.total_pages,data:t.payload.results});case"status/loading":return(0,r.Z)((0,r.Z)({},e),{},{isLoading:t.payload});default:return e}}),g),b=(0,n.Z)(_,2),x=b[0],j=b[1],Z=(0,s.TH)(),C=(0,o.useMemo)((function(){if(null===m.get("page"))return 1;var t=Number(m.get("page"));return isNaN(t)||t<1||t>h?(e.current=!0,1):t}),[m]),k=(0,o.useMemo)((function(){var t=m.get("query");return null===t||""===t?(e.current=!0,""):t}),[m]);(0,o.useEffect)((function(){if(e.current)return e.current=!1,void y({});j({type:"status/loading",payload:!0}),(0,l.Z)("search/movie",{query:k,page:C}).then((function(e){var t=e.results,a=e.total_pages;C>a?y({query:k}):j({type:"data/set",payload:{results:t,total_pages:a}})})).catch((function(e){e.response.data.status_code===v&&y({query:k}),u.Notify.info("".concat(e.response.data.status_message))})).finally((function(){j({type:"status/loading",payload:!1})}))}),[C,k,y]);var N=function(e){return""!==e.trim()};return(0,f.jsxs)(f.Fragment,{children:[x.total_pages>1&&(0,f.jsx)(c.Z,{current:C,total:x.total_pages,onClick:function(e){y({query:k,page:e})}}),(0,f.jsxs)("form",{onSubmit:function(e){var t=e.target.elements.query.value;e.preventDefault(),N(t)?y({query:t}):u.Notify.failure("Enter valid query")},className:p.MoviesForm,children:[(0,f.jsxs)("label",{children:["Enter movie name"," ",(0,f.jsx)("input",{type:"text",name:"query",defaultValue:k})]}),(0,f.jsx)("button",{type:"submit",children:"Search"})]}),x.isLoading?(0,f.jsx)(d.Z,{}):x.data.length>0?(0,f.jsx)("ul",{className:p.Movies,children:x.data.map((function(e){return(0,f.jsx)("li",{children:(0,f.jsxs)(i.rU,{to:"".concat(e.id),state:{from:Z},children:[(0,f.jsx)("img",{src:"https://image.tmdb.org/t/p/w220_and_h330_face"+e.poster_path,alt:e.title}),(0,f.jsx)("h2",{children:e.title})," "]})},e.id)}))}):(0,f.jsx)("p",{children:"No movies to display"})]})}}}]);
//# sourceMappingURL=608.f30a66e4.chunk.js.map